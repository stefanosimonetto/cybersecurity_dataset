Installing Privoxy

Get link

Facebook

Twitter

Pinterest

Email

Other Apps

September 18, 2006

A task I'm going to blog shortly recommends that I install Privoxy.  I encounted some troubles using FreeBSD so I thought I would document them.First I installed the package.orr:/root# pkg_add -vr privoxy...edited...Running pre-install for privoxy-3.0.3_4..extract: Package name is privoxy-3.0.3_4extract: CWD to /usr/localextract: /usr/local/man/man1/privoxy.1.gzextract: /usr/local/sbin/privoxyextract: /usr/local/etc/privoxy/configextract: /usr/local/etc/privoxy/default.actionextract: /usr/local/etc/privoxy/default.filterextract: /usr/local/etc/privoxy/trust...edited...************************************************************* Before running privoxy you must modify the file       **** /usr/local/etc/privoxy/config                         ****                                                       **** Start privoxy with:                                   **** /usr/local/sbin/privoxy /usr/local/etc/privoxy/config ****                                                       **** For documentation see:                                **  ** /usr/local/share/doc/privoxy-manual or 'man privoxy'  *************************************************************Next I enabled Privoxy in /etc/rc.conf.orr:/root# echo "privoxy_enable=YES" >> /etc/rc.confNext I tried starting Privoxy.  I ran into some problems that I fixed with the following:orr:/usr/local/etc/rc.d# mkdir /var/run/privoxyorr:/usr/local/etc/rc.d# chown privoxy:privoxy /var/run/privoxyorr:/usr/local/etc/rc.d# mkdir /var/log/privoxyorr:/usr/local/etc/rc.d# chown privoxy:privoxy /var/log/privoxyHere's what Privoxy looks like while running.orr:/usr/local/etc/rc.d# ./privoxy startStarting privoxy.orr:/usr/local/etc/rc.d# sockstat -4USER     COMMAND    PID   FD PROTO  LOCAL ADDRESS         FOREIGN ADDRESS      privoxy  privoxy    40053 3  tcp4   127.0.0.1:8118        *:*richard  firefox-bi 37850 22 tcp4   192.168.2.5:62936     66.249.83.83:80richard  ssh        691   3  tcp4   192.168.2.5:49499     172.16.3.2:22root     sendmail   468   4  tcp4   127.0.0.1:25          *:*root     sshd       462   4  tcp4   *:22                  *:*root     syslogd    320   7  udp4   *:514                 *:*So what is this good for?  Well, now that I have Privoxy listening on port 8118 TCP I can point my Web browser toward it.  I tell Firefox to use localhost port 8118 and now all my Web requests use Privoxy.I can test the difference between normal Web browsing and Privoxy Web browsing by visiting http://config.privoxy.org/show-status.  It shows information like the following.Show-Request Here you see the original headers that your client sent when requesting this page, along with the headers that Privoxy would have sent to the remote server if this request hadn't been             intercepted.   Original Client Request: GET http://config.privoxy.org/show-request HTTP/1.1Host: config.privoxy.orgUser-Agent: Mozilla/5.0 (X11; U; FreeBSD i386; en-US; rv:1.8.0.7) Gecko/20060917 Firefox/1.5.0.7Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5Accept-Language: en-us,en;q=0.5Accept-Encoding: gzip,deflateAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7Keep-Alive: 300Proxy-Connection: keep-aliveReferer: http://config.privoxy.org/show-statusIf-Modified-Since: Mon, 18 Sep 2006 15:25:41 GMTCache-Control: max-age=0 Processed Request: GET /show-request HTTP/1.1Host: config.privoxy.orgUser-Agent: Mozilla/5.0 (X11; U; FreeBSD i386; en-US; rv:1.8.0.7)  Gecko/20060917 Firefox/1.5.0.7Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5Accept-Language: en-us,en;q=0.5Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7Referer: http://config.privoxy.org/If-Modified-Since: Mon, 18 Sep 2006 15:25:41 GMTCache-Control: max-age=0X-Actions-File-Version: 1.8Connection: closeThis doesn't appear to be a big deal, but I'm using Privoxy's default configuration.  In my next post I'll combine Privoxy with Tor to facilitate (but not guarantee) anonymous Web browsing.
