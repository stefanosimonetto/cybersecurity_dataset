VMware Server Beta on Debian Status Report

Get link

Facebook

Twitter

Pinterest

Email

Other Apps

March 21, 2006

I previously reported running FreeBSD 6.0 on my Hacom Lex Twister VIA 1 GHz Nehemiah.  Today I decided to install Debian on it.  I will warn you now that the majority of this post is documentation for my own reference, and the hope it might help someone else.  If you're looking for short, pithy security insights, today is not your day.I used a USB-connected external CD burner as my installation source.  The Hacom is very temperamental with it.  I had to disable all booting sources except the USB-CD.  Next I booted the Hacom with the USB-CD off.  Once I got an error from the BIOS about a lack of bootable devices, I then turn on the USB-CD and press  to try booting again.Installing Debian on the Hacom was fairly painless.  I did not add any packages with aptitude during the installation.  That meant the following packages were installed.hacom:~# dpkg --listDesired=Unknown/Install/Remove/Purge/Hold| Status=Not/Installed/Config-files/Unpacked/Failed-config/Half-installed|/ Err?=(none)/Hold/Reinst-required/X=both-problems (Status,Err: uppercase=bad)||/ Name           Version        Description+++-==============-==============-============================================ii  adduser        3.63           Add and remove users and groupsii  apt            0.5.28.6       Advanced front-end for dpkgii  apt-utils      0.5.28.6       APT utility programsii  aptitude       0.2.15.9-2     terminal-based apt frontendii  at             3.1.8-11       Delayed job execution and batch processingii  base-config    2.53.10        Debian base system configuratorii  base-files     3.1.2          Debian base system miscellaneous filesii  base-passwd    3.5.9          Debian base system master password and groupii  bash           2.05b-26       The GNU Bourne Again SHellii  bsdmainutils   6.0.17         collection of more utilities from FreeBSDii  bsdutils       2.12p-4sarge1  Basic utilities from 4.4BSD-Liteii  console-common 0.7.49         Basic infrastructure for text console configii  console-data   2002.12.04dbs- Keymaps, fonts, charset maps, fallback tableii  console-tools  0.2.3dbs-56    Linux console and font utilitiesii  coreutils      5.2.1-2        The GNU core utilitiesii  cpio           2.5-1.3        GNU cpio -- a program to manage archives ofii  cramfsprogs    1.1-6          Tools for CramFs (Compressed ROM File Systemii  cron           3.0pl1-86      management of regular background processingii  dash           0.5.2-5        The Debian Almquist Shellii  debconf        1.4.30.13      Debian configuration management systemii  debconf-i18n   1.4.30.13      full internationalization support for debconii  debianutils    2.8.4          Miscellaneous utilities specific to Debianii  dhcp-client    2.0pl5-19.1    DHCP Clientii  diff           2.8.1-11       File comparison utilitiesii  discover1      1.7.7          hardware identification systemii  discover1-data 1.2005.01.08   hardware lists for libdiscover1ii  dpkg           1.10.28        Package maintenance system for Debianii  dselect        1.10.28        a user tool to manage Debian packagesii  e2fslibs       1.37-2sarge1   ext2 filesystem librariesii  e2fsprogs      1.37-2sarge1   ext2 file system utilities and librariesii  ed             0.2-20         The classic unix line editorii  eject          2.0.13deb-8sar ejects CDs and operates CD-Changers under Liii  exim4          4.50-8         metapackage to ease exim MTA (v4) installatiii  exim4-base     4.50-8         support files for all exim MTA (v4) packagesii  exim4-config   4.50-8         configuration for the exim MTA (v4)ii  exim4-daemon-l 4.50-8         lightweight exim MTA (v4) daemonii  fdutils        5.4-20040228-1 Linux floppy utilitiesii  findutils      4.1.20-6       utilities for finding files--find, xargs, anii  gcc-3.3-base   3.3.5-13       The GNU Compiler Collection (base package)ii  gettext-base   0.14.4-2       GNU Internationalization utilities for the bii  grep           2.5.1.ds1-4    GNU grep, egrep and fgrepii  groff-base     1.18.1.1-7     GNU troff text-formatting system (base systeii  grub           0.95+cvs200406 GRand Unified Bootloaderii  gzip           1.3.5-10sarge1 The GNU compression utilityii  hostname       2.13           A utility to set/show the host name or domaiii  hotplug        0.0.20040329-2 Linux Hotplug Scriptsii  ifupdown       0.6.7          high level tools to configure network interfii  info           4.7-2.2        Standalone GNU Info documentation browserii  initrd-tools   0.1.81.1       tools to create initrd image for prepackagedii  initscripts    2.86.ds1-1     Standard scripts needed for booting and shutii  ipchains       1.3.10-15      Network firewalling for Linux 2.2.xii  iptables       1.2.11-10      Linux kernel 2.4+ iptables administration toii  iputils-ping   20020927-2     Tools to test the reachability of network hoii  kernel-image-2 2.4.27-10sarge Linux kernel image for version 2.4.27 on 386ii  kernel-pcmcia- 2.4.27-10sarge Mainstream PCMCIA modules 2.4.27 on 386ii  klogd          1.4.1-17       Kernel Logging Daemonii  libacl1        2.2.23-1       Access control list shared libraryii  libattr1       2.4.16-1       Extended attribute shared libraryii  libblkid1      1.37-2sarge1   block device id libraryii  libc6          2.3.2.ds1-22   GNU C Library: Shared libraries and Timezoneii  libcap1        1.10-14        support for getting/setting POSIX.1e capabilii  libcomerr2     1.37-2sarge1   common error description libraryii  libconsole     0.2.3dbs-56    Shared libraries for Linux console and fontii  libdb1-compat  2.1.3-7        The Berkeley database routines [glibc 2.0/2.ii  libdb3         3.2.9-22       Berkeley v3 Database Libraries [runtime]ii  libdb4.2       4.2.52-18      Berkeley v4.2 Database Libraries [runtime]ii  libdiscover1   1.7.7          hardware identification libraryii  libgcc1        3.4.3-13       GCC support libraryii  libgcrypt11    1.2.0-11.1     LGPL Crypto library - runtime libraryii  libgdbm3       1.8.3-2        GNU dbm database routines (runtime version)ii  libgnutls11    1.0.16-13.1    GNU TLS library - runtime libraryii  libgpg-error0  1.0-1          library for common error values and messagesii  liblocale-gett 1.01-17        Using libc functions for internationalizatioii  liblockfile1   1.06           NFS-safe locking library, includes dotlockfiii  liblzo1        1.08-1.2       A real-time data compression libraryii  libncurses5    5.4-4          Shared libraries for terminal handlingii  libnewt0.51    0.51.6-20      Not Erik's Windowing Toolkit - text mode winii  libopencdk8    0.5.5-10       Open Crypto Development Kit (OpenCDK) (runtiii  libpam-modules 0.76-22        Pluggable Authentication Modules for PAMii  libpam-runtime 0.76-22        Runtime support for the PAM libraryii  libpam0g       0.76-22        Pluggable Authentication Modules libraryii  libpcap0.7     0.7.2-7        System interface for user-level packet captuii  libpcre3       4.5-1.2sarge1  Perl 5 Compatible Regular Expression Libraryii  libpopt0       1.7-5          lib for parsing cmdline parametersii  libsigc++-1.2- 1.2.5-4        type-safe Signal Framework for C++ - runtimeii  libss2         1.37-2sarge1   command-line interface parsing libraryii  libssl0.9.7    0.9.7e-3sarge1 SSL shared librariesii  libstdc++5     3.3.5-13       The GNU Standard C++ Library v3ii  libtasn1-2     0.2.10-3       Manage ASN.1 structures (runtime)ii  libtext-charwi 0.04-1         get display widths of characters on the termii  libtext-iconv- 1.2-3          Convert between character sets in Perlii  libtext-wrapi1 0.06-1         internationalized substitute of Text::Wrapii  libtextwrap1   0.1-1          text-wrapping library with i18n - runtimeii  libusb-0.1-4   0.1.10a-9.sarg userspace USB programming libraryii  libuuid1       1.37-2sarge1   universally unique id libraryii  libwrap0       7.6.dbs-8      Wietse Venema's TCP wrappers libraryii  locales        2.3.2.ds1-22   GNU C Library: National Language (locale) daii  login          4.0.3-31sarge5 system login toolsii  logrotate      3.7-5          Log rotation utilityii  mailx          8.1.2-0.200405 A simple mail user agentii  makedev        2.3.1-77       creates device files in /devii  man-db         2.4.2-21       The on-line manual pagerii  manpages       1.70-1         Manual pages about using a GNU/Linux systemii  mawk           1.3.3-11       a pattern scanning and text processing languii  modutils       2.4.26-1.2     Linux module utilitiesii  mount          2.12p-4sarge1  Tools for mounting and manipulating filesystii  nano           1.2.4-5        free Pico clone with some new featuresii  ncurses-base   5.4-4          Descriptions of common terminal typesii  ncurses-bin    5.4-4          Terminal-related programs and man pagesii  net-tools      1.60-10        The NET-3 networking toolkitii  netbase        4.21           Basic TCP/IP networking systemii  netkit-inetd   0.10-10        The Internet Superserverii  nvi            1.79-22        4.4BSD re-implementation of viii  passwd         4.0.3-31sarge5 change and administer password and group datii  pciutils       2.1.11-15      Linux PCI Utilitiesii  pcmcia-cs      3.2.5-10       PCMCIA Card Services for Linuxii  perl-base      5.8.4-8        The Pathologically Eclectic Rubbish Listerii  ppp            2.4.3-20050321 Point-to-Point Protocol (PPP) daemonii  pppconfig      2.3.11         A text menu based utility for configuring ppii  pppoe          3.5-4          PPP over Ethernet driverii  pppoeconf      1.7            configures PPPoE/ADSL connectionsii  procps         3.2.1-2        The /proc file system utilitiesii  psmisc         21.5-1         Utilities that use the proc filesystemii  sed            4.1.2-8        The GNU sed stream editorii  slang1a-utf8   1.4.9dbs-8     The S-Lang programming library with utf8 supii  sysklogd       1.4.1-17       System Logging Daemonii  sysv-rc        2.86.ds1-1     Standard boot mechanism using symlinks in /eii  sysvinit       2.86.ds1-1     System-V like initii  tar            1.14-2         GNU tarii  tasksel        2.24           Tool for selecting tasks for installation onii  tcpd           7.6.dbs-8      Wietse Venema's TCP wrapper utilitiesii  telnet         0.17-29        The telnet clientii  usbutils       0.70-8         USB console utilitiesii  util-linux     2.12p-4sarge1  Miscellaneous system utilitiesii  wget           1.9.1-12       retrieves files from the webii  whiptail       0.51.6-20      Displays user-friendly dialog boxes from sheii  zlib1g         1.2.2-4.sarge. compression library - runtimeThat's pretty sparse.  No SSH, no FTP client!Here's my partioning scheme:hacom:~# df -hFilesystem            Size  Used Avail Use% Mounted on/dev/hda1             250M   52M  186M  22% /tmpfs                 245M     0  245M   0% /dev/shm/dev/hda3             4.6G   33M  4.4G   1% /home/dev/hda8             361M  8.1M  334M   3% /tmp/dev/hda5             4.6G  122M  4.3G   3% /usr/dev/hda6             2.8G   77M  2.6G   3% /var/dev/hda4             216G   33M  205G   1% /vmwareThe first packaged I added was SSH:hacom:~# apt-get install sshAfter answering some sensible curses-based questions, I had SSH listening on port 22.At this point I'm going to post my dmesg output here for those of you who want to know how the internals are recognized.Linux version 2.4.27-2-386 (horms@tabatha.lab.ultramonkey.org) (gcc version 3.3.5 (Debian 1:3.3.5-13)) #1 Wed Aug 17 09:33:35 UTC 2005BIOS-provided physical RAM map: BIOS-e820: 0000000000000000 - 000000000009fc00 (usable) BIOS-e820: 000000000009fc00 - 00000000000a0000 (reserved) BIOS-e820: 00000000000f0000 - 0000000000100000 (reserved) BIOS-e820: 0000000000100000 - 000000001eff0000 (usable) BIOS-e820: 000000001eff0000 - 000000001eff3000 (ACPI NVS) BIOS-e820: 000000001eff3000 - 000000001f000000 (ACPI data) BIOS-e820: 00000000ffff0000 - 0000000100000000 (reserved)495MB LOWMEM available.On node 0 totalpages: 126960zone(0): 4096 pages.zone(1): 122864 pages.zone(2): 0 pages.ACPI: RSDP (v000 CLE266                                    ) @ 0x000f69b0ACPI: RSDT (v001 CLE266 AWRDACPI 0x42302e31 AWRD 0x00000000) @ 0x1eff3000ACPI: FADT (v001 CLE266 AWRDACPI 0x42302e31 AWRD 0x00000000) @ 0x1eff3040ACPI: DSDT (v001 CLE266 AWRDACPI 0x00001000 MSFT 0x0100000e) @ 0x00000000Kernel command line: root=/dev/hda1 roNo local APIC present or hardware disabledInitializing CPU#0Detected 1002.300 MHz processor.Console: colour VGA+ 80x25Calibrating delay loop... 1998.84 BogoMIPSMemory: 496364k/507840k available (1069k kernel code, 11088k reserved, 459k data, 96k init, 0k highmem)Dentry cache hash table entries: 65536 (order: 7, 524288 bytes)Inode cache hash table entries: 32768 (order: 6, 262144 bytes)Mount cache hash table entries: 512 (order: 0, 4096 bytes)Buffer cache hash table entries: 32768 (order: 5, 131072 bytes)Page-cache hash table entries: 131072 (order: 7, 524288 bytes)CPU: L1 I Cache: 64K (32 bytes/line), D cache 64K (32 bytes/line)CPU: L2 Cache: 64K (32 bytes/line)CPU:     After generic, caps: 0381b83f 00000000 00000000 00000000CPU:             Common caps: 0381b83f 00000000 00000000 00000000CPU: Centaur VIA Nehemiah stepping 08Enabling fast FPU save and restore... done.Enabling unmasked SIMD FPU exception support... done.Checking 'hlt' instruction... OK.Checking for popad bug... OK.POSIX conformance testing by UNIFIXACPI: Subsystem revision 20040326ACPI: Interpreter disabled.PCI: PCI BIOS revision 2.10 entry at 0xfb400, last bus=3PCI: Using configuration type 1PCI: Probing PCI hardwarePCI: ACPI tables contain no PCI IRQ routing entriesPCI: Probing PCI hardware (bus 00)PCI: Using IRQ router VIA [1106/3177] at 00:11.0Linux NET4.0 for Linux 2.4Based upon Swansea University Computer Society NET3.039Initializing RT netlink socketStarting kswapdVFS: Disk quotas vdquot_6.5.1devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)devfs: boot_options: 0x0pty: 256 Unix98 ptys configuredSerial driver version 5.05c (2001-07-08) with HUB-6 MANY_PORTS MULTIPORT SHARE_IRQ SERIAL_PCI enabledttyS00 at 0x03f8 (irq = 4) is a 16550ACOMX: driver version 0.85 (C) 1995-1999 ITConsult-Pro Co. RAMDISK driver initialized: 16 RAM disks of 8192K size 1024 blocksizeInitializing Cryptographic APINET4: Linux TCP/IP 1.0 for NET4.0IP: routing cache hash table of 4096 buckets, 32KbytesTCP: Hash tables configured (established 32768 bind 65536)Linux IP multicast router 0.06 plus PIM-SMRAMDISK: cramfs filesystem found at block 0RAMDISK: Loading 3692 blocks [1 disk] into ram disk... done.Freeing initrd memory: 3692k freedVFS: Mounted root (cramfs filesystem).Freeing unused kernel memory: 96k freedNET4: Unix domain sockets 1.0/SMP for Linux NET4.0.Uniform Multi-Platform E-IDE driver Revision: 7.00beta4-2.4ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xxide: late registration of driver.VP_IDE: IDE controller at PCI slot 00:11.1VP_IDE: chipset revision 6VP_IDE: not 100% native mode: will probe irqs lateride: Assuming 33MHz system bus speed for PIO modes; override with idebus=xxVP_IDE: VIA vt8235 (rev 00) IDE UDMA133 controller on pci00:11.1    ide0: BM-DMA at 0xee00-0xee07, BIOS settings: hda:DMA, hdb:pio    ide1: BM-DMA at 0xee08-0xee0f, BIOS settings: hdc:pio, hdd:piohda: WDC WD2500SB-01KBC0, ATA DISK driveblk: queue df825b60, I/O limit 4095Mb (mask 0xffffffff)ide0 at 0x1f0-0x1f7,0x3f6 on irq 14hda: attached ide-disk driver.hda: 488397168 sectors (250059 MB) w/8192KiB Cache, CHS=30401/255/63, UDMA(33)Partition check: /dev/ide/host0/bus0/target0/lun0: p1 p2 < p5 p6 p7 p8 > p3 p4Journalled Block Device driver loadedkjournald starting.  Commit interval 5 secondsEXT3-fs: mounted filesystem with ordered data mode.Adding Swap: 1502036k swap-space (priority -1)EXT3 FS 2.4-0.9.19, 19 August 2002 on ide0(3,1), internal journalSCSI subsystem driver Revision: 1.00kjournald starting.  Commit interval 5 secondsEXT3 FS 2.4-0.9.19, 19 August 2002 on ide0(3,3), internal journalEXT3-fs: mounted filesystem with ordered data mode.kjournald starting.  Commit interval 5 secondsEXT3 FS 2.4-0.9.19, 19 August 2002 on ide0(3,8), internal journalEXT3-fs: mounted filesystem with ordered data mode.kjournald starting.  Commit interval 5 secondsEXT3 FS 2.4-0.9.19, 19 August 2002 on ide0(3,5), internal journalEXT3-fs: mounted filesystem with ordered data mode.kjournald starting.  Commit interval 5 secondsEXT3 FS 2.4-0.9.19, 19 August 2002 on ide0(3,6), internal journalEXT3-fs: mounted filesystem with ordered data mode.kjournald starting.  Commit interval 5 secondsEXT3 FS 2.4-0.9.19, 19 August 2002 on ide0(3,4), internal journalEXT3-fs: mounted filesystem with ordered data mode.Linux Kernel Card Services 3.1.22  options:  [pci] [cardbus] [pm]PCI: Found IRQ 11 for device 00:0c.0PCI: Sharing IRQ 11 with 00:08.0PCI: Sharing IRQ 11 with 00:10.0PCI: Found IRQ 5 for device 00:0c.1PCI: Sharing IRQ 5 with 00:09.0PCI: Sharing IRQ 5 with 00:10.1Yenta ISA IRQ mask 0x0008, PCI irq 11Socket status: 30000006Yenta ISA IRQ mask 0x0008, PCI irq 5Socket status: 30000006irda_init()Intel(R) PRO/1000 Network Driver - version 5.2.52-k3Copyright (c) 1999-2004 Intel Corporation.PCI: Found IRQ 11 for device 00:08.0PCI: Sharing IRQ 11 with 00:0c.0PCI: Sharing IRQ 11 with 00:10.0e1000: eth0: e1000_probe: Intel(R) PRO/1000 Network ConnectionPCI: Found IRQ 5 for device 00:09.0PCI: Sharing IRQ 5 with 00:0c.1PCI: Sharing IRQ 5 with 00:10.1e1000: eth1: e1000_probe: Intel(R) PRO/1000 Network ConnectionPCI: Found IRQ 10 for device 00:0a.0PCI: Sharing IRQ 10 with 00:10.2PCI: Sharing IRQ 10 with 00:11.5e1000: eth2: e1000_probe: Intel(R) PRO/1000 Network ConnectionVia 686a/8233/8235 audio driver 1.9.1-ac3PCI: Found IRQ 10 for device 00:11.5PCI: Sharing IRQ 10 with 00:0a.0PCI: Sharing IRQ 10 with 00:10.2via82cxxx: Six channel audio availablePCI: Setting latency timer of device 00:11.5 to 64ac97_codec: AC97 Audio codec, id: VIA97 (Unknown)via82cxxx: board #1 at 0xEF00, IRQ 10usb.c: registered new driver usbdevfsusb.c: registered new driver hubusb-uhci.c: $Revision: 1.275 $ time 09:50:48 Aug 17 2005usb-uhci.c: High bandwidth mode enabledPCI: Found IRQ 11 for device 00:10.0PCI: Sharing IRQ 11 with 00:08.0PCI: Sharing IRQ 11 with 00:0c.0usb-uhci.c: USB UHCI at I/O 0xeb00, IRQ 11usb-uhci.c: Detected 2 portsusb.c: new USB bus registered, assigned bus number 1hub.c: USB hub foundhub.c: 2 ports detectedPCI: Found IRQ 5 for device 00:10.1PCI: Sharing IRQ 5 with 00:09.0PCI: Sharing IRQ 5 with 00:0c.1usb-uhci.c: USB UHCI at I/O 0xec00, IRQ 5usb-uhci.c: Detected 2 portsusb.c: new USB bus registered, assigned bus number 2hub.c: USB hub foundhub.c: 2 ports detectedPCI: Found IRQ 10 for device 00:10.2PCI: Sharing IRQ 10 with 00:0a.0PCI: Sharing IRQ 10 with 00:11.5usb-uhci.c: USB UHCI at I/O 0xed00, IRQ 10usb-uhci.c: Detected 2 portsusb.c: new USB bus registered, assigned bus number 3hub.c: USB hub foundhub.c: 2 ports detectedusb-uhci.c: v1.275:USB Universal Host Controller Interface driverPCI: Found IRQ 7 for device 00:10.3ehci_hcd 00:10.3: VIA Technologies, Inc. USB 2.0ehci_hcd 00:10.3: irq 7, pci mem df9f5000usb.c: new USB bus registered, assigned bus number 4ehci_hcd 00:10.3: USB 2.0 enabled, EHCI 1.00, driver 2003-Dec-29/2.4hub.c: USB hub foundhub.c: 6 ports detectedirda_init()uhci.c: USB Universal Host Controller Interface driver v1.1pci_hotplug: PCI Hot Plug PCI Core version: 0.5shpchp: acpi_shpchprm:get_device PCI ROOT HID fail=0x1001pci_hotplug: PCI Hot Plug PCI Core version: 0.5pciehp: acpi_pciehprm:get_device PCI ROOT HID fail=0x1001e1000: eth0: e1000_watchdog: NIC Link is Up 100 Mbps Full DuplexReal Time Clock Driver v1.10fcs: IO port probe 0x0100-0x04ff: excluding 0x170-0x177 0x370-0x377 0x4d0-0x4d7cs: IO port probe 0x0800-0x08ff: clean.cs: IO port probe 0x0c00-0x0cff: clean.cs: IO port probe 0x0a00-0x0aff: clean.With that out of the way, we can talk about why I'm installing Debian on this box.  I'd like to run VMware Server Beta on it.  Sure, Debian is not an officially supported platform, but I read this post from a few days ago and thought "this can work."The original post that gave me hope to run VMware Server Beta on Debian mentioned the requirement to add several packages.  I added the following.  Note that I use the correct package names, while the post does not.hacom:~# apt-get install kernel-source-2.4.27hacom:~# apt-get install kernel-headers-2.4.27-2-386hacom:~# apt-get install build-essentialWith these packages installed, I set up the kernel files as outlined in the post.hacom:/usr/src# bzip2 -d kernel-source-2.4.27.tar.bz2hacom:/usr/src# tar -xf  kernel-source-2.4.27.tarhacom:/usr/src# ln -s kernel-source-2.4.27 linuxhacom:/usr/src# mv /usr/src/kernel-source-2.4.27/include /usr/src/kernel-source-2.4.27/include.orighacom:/usr/src# ln -s /usr/src/kernel-headers-2.4.27-2-386/include /usr/src/kernel-source-2.4.27/includeNow I was ready to extract the VMware archives and try installing them.hacom:/tmp# cd /usr/local/srchacom:/usr/local/src# lsVMware-mui-e.x.p-22088.tar.gz  VMware-server-e.x.p-22088.tar.gzhacom:/usr/local/src# tar -xzf VMware-server-e.x.p-22088.tar.gzhacom:/usr/local/src# cd vmware-server-distrib/hacom:/usr/local/src/vmware-server-distrib# lsFILES  bin  doc  etc  installer  lib  man  sbin  vmware-install.plhacom:/usr/local/src/vmware-server-distrib# ./vmware-install.plCreating a new installer database using the tar3 format.Installing the content of the package.In which directory do you want to install the binary files?[/usr/bin]What is the directory that contains the init directories (rc0.d/ to rc6.d/)?[/etc]What is the directory that contains the init scripts?[/etc/init.d]In which directory do you want to install the daemon files?[/usr/sbin]In which directory do you want to install the library files?[/usr/lib/vmware]The path "/usr/lib/vmware" does not exist currently. This program is going tocreate it, including needed parent directories. Is this what you want? [yes]In which directory do you want to install the manual files?[/usr/share/man]In which directory do you want to install the documentation files?[/usr/share/doc/vmware]The path "/usr/share/doc/vmware" does not exist currently. This program is goingto create it, including needed parent directories. Is this what you want?[yes]The installation of VMware Server e.x.p build-22088 for Linux completedsuccessfully. You can decide to remove this software from your system at anytime by invoking the following command: "/usr/bin/vmware-uninstall.pl".Before running VMware Server for the first time, you need to configure it byinvoking the following command: "/usr/bin/vmware-config.pl". Do you want thisprogram to invoke the command for you now? [yes]The correct version of one or more libraries needed to run VMware Server may bemissing.  This is the output of ldd /usr/bin/vmware:        libm.so.6 => /lib/libm.so.6 (0x4001a000)        libdl.so.2 => /lib/libdl.so.2 (0x4003c000)        libpthread.so.0 => /lib/libpthread.so.0 (0x4003f000)        libX11.so.6 => not found        libXtst.so.6 => not found        libXext.so.6 => not found        libXt.so.6 => not found        libICE.so.6 => not found        libSM.so.6 => not found        libXrender.so.1 => not found        libz.so.1 => /usr/lib/libz.so.1 (0x40092000)        libc.so.6 => /lib/libc.so.6 (0x400a4000)        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)This program cannot tell for sure, but you may need to upgrade libc5 to glibcbefore you can run VMware Server.Hit enter to continue.At this point I knew I had a problem.  I didn't like seeing all of those "not found" messages, so I aborted and added the necessary packages.hacom:~# apt-get install libx11-6hacom:~# apt-get install libxtst6hacom:~# apt-get install libxt6hacom:~# apt-get install libxrender1When I later ran into trouble starting the Web-based interface to the server, I realized I needed to add these packages too:hacom:~# apt-get install libdb2hacom:~# apt-get install libxi6Now I was ready to try installing VMware Server again.hacom:/usr/local/src/vmware-server-distrib# ./vmware-install.plInstalling the content of the package.In which directory do you want to install the binary files?[/usr/bin]What is the directory that contains the init directories (rc0.d/ to rc6.d/)?[/etc]What is the directory that contains the init scripts?[/etc/init.d]In which directory do you want to install the daemon files?[/usr/sbin]In which directory do you want to install the library files?[/usr/lib/vmware]The path "/usr/lib/vmware" does not exist currently. This program is going tocreate it, including needed parent directories. Is this what you want? [yes]In which directory do you want to install the manual files?[/usr/share/man]In which directory do you want to install the documentation files?[/usr/share/doc/vmware]The path "/usr/share/doc/vmware" does not exist currently. This program is goingto create it, including needed parent directories. Is this what you want?[yes]The installation of VMware Server e.x.p build-22088 for Linux completedsuccessfully. You can decide to remove this software from your system at anytime by invoking the following command: "/usr/bin/vmware-uninstall.pl".Before running VMware Server for the first time, you need to configure it byinvoking the following command: "/usr/bin/vmware-config.pl". Do you want thisprogram to invoke the command for you now? [yes]Making sure services for VMware Server are stopped.Stopping VMware services:   Virtual machine monitor                                             done   Bridged networking on /dev/vmnet0                                   done   DHCP server on /dev/vmnet1                                          done   Host-only networking on /dev/vmnet1                                 done   Bridged networking on /dev/vmnet2                                   done   Bridged networking on /dev/vmnet3                                   done   DHCP server on /dev/vmnet8                                          done   NAT service on /dev/vmnet8                                          done   Host-only networking on /dev/vmnet8                                 done   Virtual ethernet                                                    doneYou must read and accept the End User License Agreement to continue.Press enter to display it....omitted...Do you accept? (yes/no) yesThank you.Configuring fallback GTK+ 2.4 libraries.In which directory do you want to install the mime type icons?Do you accept? (yes/no) yesThank you.Configuring fallback GTK+ 2.4 libraries.In which directory do you want to install the mime type icons?[/usr/share/icons]The path "/usr/share/icons" does not exist currently. This program is going tocreate it, including needed parent directories. Is this what you want? [yes]What directory contains your desktop menu entry files? These files have a.desktop file extension. [/usr/share/applications]In which directory do you want to install the application's icon?[/usr/share/pixmaps]Trying to find a suitable vmmon module for your running kernel.None of the pre-built vmmon modules for VMware Server is suitable for yourrunning kernel.  Do you want this program to try to build the vmmon module foryour system (you need to have a C compiler installed on your system)? [yes]Using compiler "/usr/bin/gcc". Use environment variable CC to override.What is the location of the directory of C header files that match your runningkernel? [/lib/modules/2.4.27-2-386/build/include]Extracting the sources of the vmmon module.Building the vmmon module.Using standalone build system.make: Entering directory `/tmp/vmware-config0/vmmon-only'make[1]: Entering directory `/tmp/vmware-config0/vmmon-only'make[2]: Entering directory `/tmp/vmware-config0/vmmon-only/driver-2.4.27-2-386'make[2]: Leaving directory `/tmp/vmware-config0/vmmon-only/driver-2.4.27-2-386'make[2]: Entering directory `/tmp/vmware-config0/vmmon-only/driver-2.4.27-2-386'make[2]: Leaving directory `/tmp/vmware-config0/vmmon-only/driver-2.4.27-2-386'make[1]: Leaving directory `/tmp/vmware-config0/vmmon-only'make: Leaving directory `/tmp/vmware-config0/vmmon-only'The module loads perfectly in the running kernel.You have already setup networking.Would you like to skip networking setup and keep your old settings as they are?(yes/no) [yes]I'm cheating here because I don't have output from my first run, where I set up networking.  All I originally did was set up eth0 as a bridge for vmnet0.  I set up eth1 as a bridge for vmnet2, and I also bridged eth2.Extracting the sources of the vmnet module.Building the vmnet module.Using standalone build system.make: Entering directory `/tmp/vmware-config0/vmnet-only'make: Leaving directory `/tmp/vmware-config0/vmnet-only'The module loads perfectly in the running kernel./etc/init.d/httpd.vmware: line 120: status: command not foundPlease specify a port for remote console connections to use [902]Restarting internet superserver: inetd.Configuring the VMware VmPerl Scripting API.Building the VMware VmPerl Scripting API.Using compiler "/usr/bin/gcc". Use environment variable CC to override.Installing the VMware VmPerl Scripting API.The installation of the VMware VmPerl Scripting API succeeded.Do you want this program to set up permissions for your registered virtualmachines?  This will be done by setting new permissions on all files found inthe "/etc/vmware/vm-list" file. [no]Generating SSL Server CertificateIn which directory do you want to keep your virtual machine files?[/vmware]Do you want to enter a serial number now? (yes/no/help) [no]Starting VMware services:   Virtual machine monitor                                             done   Virtual ethernet                                                    done   Bridged networking on /dev/vmnet0                                   done   Host-only networking on /dev/vmnet1 (background)                    done   Bridged networking on /dev/vmnet2                                   done   Bridged networking on /dev/vmnet3                                   done   Host-only networking on /dev/vmnet8 (background)                    done   NAT service on /dev/vmnet8                                          done   Starting VMware virtual machines...                                 doneThe configuration of VMware Server e.x.p build-22088 for Linux for this runningkernel completed successfully.Now I was ready to set up the VMware Management Interface.hacom:/usr/local/src/vmware-server-distrib# cd ..hacom:/usr/local/src# lsVMware-mui-e.x.p-22088.tar.gz  VMware-server-e.x.p-22088.tar.gz  vmware-mui-distrib  vmware-server-distribhacom:/usr/local/src# cd vmware-mui-distrib/hacom:/usr/local/src/vmware-mui-distrib# lsbin  console-distrib  doc  etc  mui  vmware-install.plhacom:/usr/local/src/vmware-mui-distrib# ./vmware-install.plA previous installation of VMware software has been detected.The previous installation was made by the tar installer (version 3).Keeping the tar3 installer database format.Uninstalling the tar installation of VMware Management Interface.   Shutting down http.vmware:                                          doneThis program previously created the directory /var/log/vmware-mui, and was aboutto remove it. Since there are files in that directory that this program did notcreate, it will not be removed.The removal of VMware Management Interface e.x.p build-22088 for Linux completedsuccessfully. Thank you for having tried this software.You must read and accept the End User License Agreement to continue.Press enter to display it....omitted...Do you accept? (yes/no) yesThank you.Installing the content of the package.In which directory do you want to install the binary files?[/usr/bin]What is the directory that contains the init directories (rc0.d/ to rc6.d/)?[/etc]What is the directory that contains the init scripts?[/etc/init.d]In which directory do you want to install the VMware Management Interface files?[/usr/lib/vmware-mui]The path "/usr/lib/vmware-mui" does not exist currently. This program is goingto create it, including needed parent directories. Is this what you want?[yes]In which directory would you like to install the documentation files?[/usr/lib/vmware-mui/doc]The path "/usr/lib/vmware-mui/doc" does not exist currently. This program isgoing to create it, including needed parent directories. Is this what you want?[yes]The installation of VMware Management Interface e.x.p build-22088 for Linuxcompleted successfully. You can decide to remove this software from your systemat any time by invoking the following command:"/usr/bin/vmware-uninstall-mui.pl".Before running VMware Management Interface for the first time, you need toconfigure it by invoking the following command: "/usr/bin/vmware-config-mui.pl".Do you want this program to invoke the command for you now? [yes]Configuring httpd.conf to run Apache as:User: www-data and Group: nogroupSet the number of minutes before a http session times out. (This is the lengthof time before someone connecting to VMware Management Interface will be loggedout) [60]Generating SSL Server Certificate   Starting httpd.vmware:                                              doneInstallation of VMware Management Interface was successfulThe configuration of VMware Management Interface completed successfully.Now I had the VMware components running:hacom:~# netstat -natupActive Internet connections (servers and established)Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program nametcp        0      0 0.0.0.0:902             0.0.0.0:*               LISTEN     3192/inetdtcp        0      0 0.0.0.0:8333            0.0.0.0:*               LISTEN     1528/httpdtcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     1443/sshdtcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN     1409/exim4tcp        0      0 0.0.0.0:8222            0.0.0.0:*               LISTEN     1528/httpdtcp        0    300 192.168.2.18:22         192.168.2.5:1957        ESTABLISHED2580/sshd: richardhacom:~# ps -ef | grep vmwww-data  1528     1  0 13:52 ?        00:00:02 /usr/lib/vmware-mui/apache/bin/httpd -DSSL -DSSL_ONLY -DGSX -d /usr/lib/vmware-mui/apacheroot      3322     1  0 15:05 pts/0    00:00:00 /usr/bin/vmnet-bridge -d /var/run/vmnet-bridge-0.pid /dev/vmnet0 eth0root      3330     1  0 15:05 pts/0    00:00:00 /usr/bin/vmnet-bridge -d /var/run/vmnet-bridge-2.pid /dev/vmnet2 eth1root      3334     1  0 15:05 pts/0    00:00:00 /usr/bin/vmnet-bridge -d /var/run/vmnet-bridge-3.pid /dev/vmnet3 eth2root      3342     1  0 15:05 ?        00:00:00 /usr/bin/vmnet-natd -d /var/run/vmnet-natd-8.pid -m /var/run/vmnet-natd-8.mac -c /etc/vmware/vmnet8/nat/nat.confroot      3348     1  1 15:05 ?        00:00:02 /usr/sbin/vmware-serverd -s -droot      3413     1  0 15:05 pts/0    00:00:00 /usr/bin/vmnet-netifup -d /var/run/vmnet-netifup-vmnet1.pid /dev/vmnet1 vmnet1root      3421     1  0 15:05 pts/0    00:00:00 /usr/bin/vmnet-netifup -d /var/run/vmnet-netifup-vmnet8.pid /dev/vmnet8 vmnet8root      3437     1  0 15:05 ?        00:00:00 /usr/bin/vmnet-dhcpd -cf /etc/vmware/vmnet1/dhcpd/dhcpd.conf -lf /etc/vmware/vmnet1/dhcpd/dhcpd.leases -pf /var/run/vmnet-dhcpd-vmnet1.pid vmnet1root      3439     1  0 15:05 ?        00:00:00 /usr/bin/vmnet-dhcpd -cf /etc/vmware/vmnet8/dhcpd/dhcpd.conf -lf /etc/vmware/vmnet8/dhcpd/dhcpd.leases -pf /var/run/vmnet-dhcpd-vmnet8.pid vmnet8When I tried to start a VM, however, I saw the following in /var/log/vmware/vmware-serverd.log:Mar 21 12:14:37: app| Attempting to launch vmx : /vmware/sguil0-6-0p1_freebsd6-0_1024mb/FreeBSD.vmxMar 21 12:14:38: app| New connection on socket server-vmxvmdb from host localhost (ip address: local) , user: rootMar 21 12:14:38: app| Connection from : /vmware/sguil0-6-0p1_freebsd6-0_1024mb/FreeBSD.vmxMar 21 12:14:38: app| Setting up autoDetect info.Mar 21 12:14:38: app| VMServerdConnect: connecting to /vmware/sguil0-6-0p1_freebsd6-0_1024mb/FreeBSD.vmxMar 21 12:14:38: app| VMControl: Unexpected response from vmware-authd (Error connecting to /usr/lib/vmware/bin/vmware-vmx process.)Mar 21 12:14:38: app| vmserverd: Could not connect to virtual machine  /vmware/sguil0-6-0p1_freebsd6-0_1024mb/FreeBSD.vmx: Unexpected response from vmware-authd: Error connecting to /usr/lib/vmware/bin/vmware-vmx process.Mar 21 12:14:38: app| Failed to connect to vm:  /vmware/sguil0-6-0p1_freebsd6-0_1024mb/FreeBSD.vmxMar 21 12:14:38: app| VmsdCmd Command error: Operation failed to change the VM to the expected power stateOh for Pete's sake.  What could be wrong?I looked closer at the logs and saw this:Mar 21 12:07:45: app| HOSTINFO: Unknown CPU vendor "CentaurHauls" seen.Mar 21 12:07:45: app| Failed to get information about CPUs.In dmesg output I saw something similar:/dev/vmmon[3301]: VMMON CPUID: Unrecognized CPUThis gave me enough for a better search in the VMware forums, where I found this post.  Basically, VMware Server does not run on the Nehemiah CPU in the Hacom. Here's my /proc/cpuinfo:hacom:/var/log/vmware# cat /proc/cpuinfoprocessor       : 0vendor_id       : CentaurHaulscpu family      : 6model           : 9model name      : VIA Nehemiahstepping        : 8cpu MHz         : 1002.300cache size      : 64 KBfdiv_bug        : nohlt_bug         : nof00f_bug        : nocoma_bug        : nofpu             : yesfpu_exception   : yescpuid level     : 1wp              : yesflags           : fpu vme de pse tsc msr sep mtrr pge cmov pat mmx fxsr sse xstorebogomips        : 1998.84At this point my project is stalled.  I don't see a workaround.  Maybe the final version will run on this box.
