Using Git with FreeBSD Sguil Scripts

Get link

Facebook

Twitter

Pinterest

Email

Other Apps

November 09, 2010

Before today I never committed anything using Git.  Previously I used CVS, but never got around to trying something more modern like SVN.  However, I know several developers at work use Git, so I figured I would try committing my FreeBSD Sguil scripts (lame as they are) to Git at Sourceforge.  This would allow me to keep track of changes and get the code out of my own repository for sharing and safekeeping.I started by cleaning up the directory where I kept the scripts.After following the instructions to enable Git, I took these actions.richard@macmini:~/taosecurity_freebsd_sguil$ git initInitialized empty Git repository in /home/richard/taosecurity_freebsd_sguil/.git/richard@macmini:~/taosecurity_freebsd_sguil$ git config user.name "Richard Bejtlich"richard@macmini:~/taosecurity_freebsd_sguil$ git config user.email \"taosecurity@users.sourceforge.net"richard@macmini:~/taosecurity_freebsd_sguil$ git remote add origin \ssh://taosecurity@taosecurity.git.sourceforge.net/gitroot/taosecurity/taosecurityrichard@macmini:~/taosecurity_freebsd_sguil$ git config branch.master.remote originrichard@macmini:~/taosecurity_freebsd_sguil$ git config branch.master.merge refs/head/masterrichard@macmini:~/taosecurity_freebsd_sguil$ git push origin mastertaosecurity@taosecurity.git.sourceforge.net's password: error: src refspec master does not match any.fatal: The remote end hung up unexpectedlyerror: failed to push some refs to 'ssh://taosecurity@taosecurity.git.sourceforge.net/gitroot \/taosecurity/taosecurity'That was unfortunate.  I didn't see that error in the Sourceforge guide, but after checking here I found that trying to add all the files might be the right step.richard@macmini:~/taosecurity_freebsd_sguil$ git add *richard@macmini:~/taosecurity_freebsd_sguil$ git commit -am "Message"Created initial commit bd18669: Message 28 files changed, 1400 insertions(+), 0 deletions(-) create mode 100755 README create mode 100644 SguildLoaderd.tcl.patch create mode 100644 SguildMysqlMerge.tcl.patch create mode 100755 barnyard2 create mode 100644 barnyard2.conf create mode 100644 barnyard2.conf.patch create mode 100644 log_packets.sh.crontab create mode 100644 log_packets.sh.patch create mode 100644 pcap_agent.conf.patch create mode 100755 prep_platform.sh create mode 100644 rc-adds.txt create mode 100755 rc-conf.sh create mode 100755 sancp create mode 100644 sancp.conf.patch create mode 100644 sancp_agent.conf.patch create mode 100644 sensor_agent.conf.patch create mode 100755 sguil_database_install_pt1.sh create mode 100755 sguil_database_install_pt2.sh create mode 100755 sguil_sensor_install.sh create mode 100755 sguil_sensor_install_patch.sh create mode 100644 sguil_sensor_users.txt create mode 100755 sguil_server_install.sh create mode 100644 sguild.conf.patch create mode 100755 sguild_adduser.sh create mode 100755 snort create mode 100644 snort.conf.patch create mode 100644 snort_agent.conf.patch create mode 100755 snort_src_install.shrichard@macmini:~/taosecurity_freebsd_sguil$ git push origin mastertaosecurity@taosecurity.git.sourceforge.net's password: Counting objects: 30, done.Compressing objects: 100% (29/29), done.Writing objects: 100% (30/30), 17.31 KiB, done.Total 30 (delta 4), reused 0 (delta 0)To ssh://taosecurity@taosecurity.git.sourceforge.net/gitroot/taosecurity/taosecurity * [new branch]      master -> masterThat did it.  I found that if I didn't make a change but tried to note one, nothing happened (as expected).richard@macmini:~/taosecurity_freebsd_sguil$ git commit -am "Commit scripts using Git"# On branch masternothing to commit (working directory clean)richard@macmini:~/taosecurity_freebsd_sguil$ git push origin mastertaosecurity@taosecurity.git.sourceforge.net's password: Everything up-to-dateNext I made some fixes and committed those.richard@macmini:~/taosecurity_freebsd_sguil$ vi README richard@macmini:~/taosecurity_freebsd_sguil$ git commit -am "Modify README to reflect changing ExtNet."Created commit 2ef21f3: Modify README to reflect changing ExtNet. 1 files changed, 3 insertions(+), 1 deletions(-)richard@macmini:~/taosecurity_freebsd_sguil$ git push origin mastertaosecurity@taosecurity.git.sourceforge.net's password: Counting objects: 5, done.Compressing objects: 100% (3/3), done.Writing objects: 100% (3/3), 413 bytes, done.Total 3 (delta 2), reused 0 (delta 0)To ssh://taosecurity@taosecurity.git.sourceforge.net/gitroot/taosecurity/taosecurity   bd18669..2ef21f3  master -> masterChecking out files is pretty easy, assuming Git is installed.richard@neely:~$ mkdir gittestrichard@neely:~$ cd gittestrichard@neely:~/gittest$ git clone git://taosecurity.git.sourceforge.net/gitroot/taosecurity/taosecurity Initialized empty Git repository in /home/richard/gittest/taosecurity/.git/remote: Counting objects: 30, done.remote: Compressing objects: 100% (29/29), done.remote: Total 30 (delta 4), reused 0 (delta 0)Receiving objects: 100% (30/30), 17.25 KiB, done.Resolving deltas: 100% (4/4), done.richard@neely:~/gittest$ cd taosecurityrichard@neely:~/gittest/taosecurity$ lsbarnyard2                sguild_adduser.shbarnyard2.conf           sguil_database_install_pt1.shbarnyard2.conf.patch     sguil_database_install_pt2.shlog_packets.sh.crontab   sguild.conf.patchlog_packets.sh.patch     SguildLoaderd.tcl.patchpcap_agent.conf.patch    SguildMysqlMerge.tcl.patchprep_platform.sh         sguil_sensor_install_patch.shrc-adds.txt              sguil_sensor_install.shrc-conf.sh               sguil_sensor_users.txtREADME                   sguil_server_install.shsancp                    snortsancp_agent.conf.patch   snort_agent.conf.patchsancp.conf.patch         snort.conf.patchsensor_agent.conf.patch  snort_src_install.shSo, now my scripts are available for me to add changes and for anyone who might be interested to retrieve them.Tweet
